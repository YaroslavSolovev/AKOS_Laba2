Реализовать межпроцессное взаимодействие через файл дескриптор.

Нужно сделать 2 приложения (python), одно с ролью клиента, второе с ролью сервера.
Приложения должны обмениваться сообщениями ping (клиент), pong (ответ от сервера), для безопасного взаимодействия через единый файл, алгоритмика должна соответствовать диаграмме состояний (см рисунок).
 I) клиент
 1)создат запрос
 2) ождиает ответ
 3) читает ответ
 4) обработка ошибки
 II) сервер
 1) Ожидает запрос
 1.1) обработка запроса
 1.2) обработка ошибки
 2) отправка ответа)
 вот, напиши ООП код на Python
 