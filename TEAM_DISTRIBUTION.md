# –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã –ø–æ –ø—Ä–æ–µ–∫—Ç—É Ping-Pong

## –ö–æ–º–∞–Ω–¥–∞ –∏–∑ 5 —á–µ–ª–æ–≤–µ–∫

---

## üë§ –ß–µ–ª–æ–≤–µ–∫ 1: –ë–∞–∑–æ–≤–∞—è –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –∏ –æ—à–∏–±–∫–∏

**–û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å:** –ë–∞–∑–æ–≤—ã–π –∫–ª–∞—Å—Å –∏ —Å–∏—Å—Ç–µ–º–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫

**–§–∞–π–ª—ã:**
- `src/base_communicator.py` (126 —Å—Ç—Ä–æ–∫)
- `src/errors/__init__.py`
- `src/errors/communication_error.py`
- `src/errors/file_access_error.py`

**–ó–∞–¥–∞—á–∏:**
1. –°–æ–∑–¥–∞—Ç—å –∞–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã–π –±–∞–∑–æ–≤—ã–π –∫–ª–∞—Å—Å `BaseCommunicator`
   - –ú–µ—Ç–æ–¥—ã —Ä–∞–±–æ—Ç—ã —Å —Ñ–∞–π–ª–æ–º (_read_file, _write_file, _clear_file, _remove_file)
   - –ú–µ—Ç–æ–¥ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è (_log)
   - –ê–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã–π –º–µ—Ç–æ–¥ _change_state
2. –°–æ–∑–¥–∞—Ç—å –±–∞–∑–æ–≤–æ–µ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ `CommunicationError`
3. –°–æ–∑–¥–∞—Ç—å –∏—Å–∫–ª—é—á–µ–Ω–∏–µ `FileAccessError` –¥–ª—è –æ—à–∏–±–æ–∫ —Ä–∞–±–æ—Ç—ã —Å —Ñ–∞–π–ª–æ–º
4. –ù–∞–ø–∏—Å–∞—Ç—å docstring –¥–ª—è –≤—Å–µ—Ö –º–µ—Ç–æ–¥–æ–≤

**–û–±—ä–µ–º —Ä–∞–±–æ—Ç—ã:** ~150 —Å—Ç—Ä–æ–∫ –∫–æ–¥–∞

---

## üë§ –ß–µ–ª–æ–≤–µ–∫ 2: –ò—Å–∫–ª—é—á–µ–Ω–∏—è –∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è –∫–ª–∏–µ–Ω—Ç–∞

**–û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å:** –û—Å—Ç–∞–≤—à–∏–µ—Å—è –∏—Å–∫–ª—é—á–µ–Ω–∏—è –∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è –∫–ª–∏–µ–Ω—Ç–∞

**–§–∞–π–ª—ã:**
- `src/errors/timeout_error.py`
- `src/errors/invalid_request_error.py`
- `src/errors/invalid_response_error.py`
- `src/states/__init__.py`
- `src/states/client_state.py`

**–ó–∞–¥–∞—á–∏:**
1. –°–æ–∑–¥–∞—Ç—å –∏—Å–∫–ª—é—á–µ–Ω–∏–µ `TimeoutError` –¥–ª—è —Ç–∞–π–º–∞—É—Ç–∞ –æ–∂–∏–¥–∞–Ω–∏—è
2. –°–æ–∑–¥–∞—Ç—å –∏—Å–∫–ª—é—á–µ–Ω–∏–µ `InvalidRequestError` –¥–ª—è –Ω–µ–≤–µ—Ä–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
3. –°–æ–∑–¥–∞—Ç—å –∏—Å–∫–ª—é—á–µ–Ω–∏–µ `InvalidResponseError` –¥–ª—è –Ω–µ–≤–µ—Ä–Ω—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤
4. –°–æ–∑–¥–∞—Ç—å –ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω–∏–µ `ClientState` —Å —Å–æ—Å—Ç–æ—è–Ω–∏—è–º–∏ –∫–ª–∏–µ–Ω—Ç–∞:
   - IDLE, CREATING_REQUEST, WAITING_RESPONSE, READING_RESPONSE, ERROR, COMPLETED
5. –ù–∞–ø–∏—Å–∞—Ç—å docstring —Å –æ–ø–∏—Å–∞–Ω–∏–µ–º –ø–µ—Ä–µ—Ö–æ–¥–æ–≤ —Å–æ—Å—Ç–æ—è–Ω–∏–π

**–û–±—ä–µ–º —Ä–∞–±–æ—Ç—ã:** ~140 —Å—Ç—Ä–æ–∫ –∫–æ–¥–∞

---

## üë§ –ß–µ–ª–æ–≤–µ–∫ 3: –ö–ª–∏–µ–Ω—Ç (—á–∞—Å—Ç—å 1)

**–û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å:** –ö–ª–∏–µ–Ω—Ç - —Å–æ–∑–¥–∞–Ω–∏–µ –∏ –æ—Ç–ø—Ä–∞–≤–∫–∞ –∑–∞–ø—Ä–æ—Å–æ–≤

**–§–∞–π–ª—ã:**
- `src/client.py` (—Å—Ç—Ä–æ–∫–∏ 1-110: –∫–ª–∞—Å—Å + –ø–µ—Ä–≤—ã–µ 3 –º–µ—Ç–æ–¥–∞)

**–ó–∞–¥–∞—á–∏:**
1. –°–æ–∑–¥–∞—Ç—å –∫–ª–∞—Å—Å `PingPongClient` (–Ω–∞—Å–ª–µ–¥—É–µ—Ç—Å—è –æ—Ç BaseCommunicator)
2. –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å `__init__` (–∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏)
3. –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å `_change_state` (–ø–µ—Ä–µ—Ö–æ–¥ –º–µ–∂–¥—É —Å–æ—Å—Ç–æ—è–Ω–∏—è–º–∏ —Å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ–º)
4. –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å `create_request` (—Å–æ–∑–¥–∞–Ω–∏–µ ping-–∑–∞–ø—Ä–æ—Å–∞)
5. –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å `send_request` (–æ—Ç–ø—Ä–∞–≤–∫–∞ –∑–∞–ø—Ä–æ—Å–∞ –≤ —Ñ–∞–π–ª)
6. –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å `wait_for_response` (–æ–∂–∏–¥–∞–Ω–∏–µ –æ—Ç–≤–µ—Ç–∞ —Å —Ç–∞–π–º–∞—É—Ç–æ–º)
7. –ù–∞–ø–∏—Å–∞—Ç—å docstring –¥–ª—è –∫–ª–∞—Å—Å–∞ –∏ –≤—Å–µ—Ö –º–µ—Ç–æ–¥–æ–≤

**–û–±—ä–µ–º —Ä–∞–±–æ—Ç—ã:** ~110 —Å—Ç—Ä–æ–∫ –∫–æ–¥–∞

---

## üë§ –ß–µ–ª–æ–≤–µ–∫ 4: –ö–ª–∏–µ–Ω—Ç (—á–∞—Å—Ç—å 2) + —Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞

**–û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å:** –ö–ª–∏–µ–Ω—Ç - —á—Ç–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç–æ–≤ –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ + –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

**–§–∞–π–ª—ã:**
- `src/client.py` (—Å—Ç—Ä–æ–∫–∏ 111-201: –æ—Å—Ç–∞–≤—à–∏–µ—Å—è –º–µ—Ç–æ–¥—ã)
- `client_app.py`

**–ó–∞–¥–∞—á–∏:**
1. –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å `read_response` (—á—Ç–µ–Ω–∏–µ –∏ –≤–∞–ª–∏–¥–∞—Ü–∏—è –æ—Ç–≤–µ—Ç–∞ –æ—Ç —Å–µ—Ä–≤–µ—Ä–∞)
2. –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å `handle_error` (–æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ —Å –ø–æ–≤—Ç–æ—Ä–Ω—ã–º–∏ –ø–æ–ø—ã—Ç–∫–∞–º–∏)
3. –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å `cleanup` (–æ—á–∏—Å—Ç–∫–∞ —Ñ–∞–π–ª–∞)
4. –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å `send_ping` (–≥–ª–∞–≤–Ω—ã–π –º–µ—Ç–æ–¥ - –ø–æ–ª–Ω—ã–π —Ü–∏–∫–ª ping-pong)
5. –°–æ–∑–¥–∞—Ç—å —Ç–æ—á–∫—É –≤—Ö–æ–¥–∞ `client_app.py`:
   - –°–æ–∑–¥–∞–Ω–∏–µ —ç–∫–∑–µ–º–ø–ª—è—Ä–∞ –∫–ª–∏–µ–Ω—Ç–∞
   - –¶–∏–∫–ª –æ—Ç–ø—Ä–∞–≤–∫–∏ 5 ping-–∑–∞–ø—Ä–æ—Å–æ–≤
   - –í—ã–≤–æ–¥ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

**–û–±—ä–µ–º —Ä–∞–±–æ—Ç—ã:** ~145 —Å—Ç—Ä–æ–∫ –∫–æ–¥–∞

---

## üë§ –ß–µ–ª–æ–≤–µ–∫ 5: –°–µ—Ä–≤–µ—Ä + —Å–æ—Å—Ç–æ—è–Ω–∏—è —Å–µ—Ä–≤–µ—Ä–∞ + —Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞

**–û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å:** –ü–æ–ª–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è —Å–µ—Ä–≤–µ—Ä–∞

**–§–∞–π–ª—ã:**
- `src/states/server_state.py`
- `src/server.py` (265 —Å—Ç—Ä–æ–∫)
- `server_app.py`

**–ó–∞–¥–∞—á–∏:**
1. –°–æ–∑–¥–∞—Ç—å –ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω–∏–µ `ServerState` —Å —Å–æ—Å—Ç–æ—è–Ω–∏—è–º–∏ —Å–µ—Ä–≤–µ—Ä–∞:
   - IDLE, WAITING_REQUEST, PROCESSING_REQUEST, SENDING_RESPONSE, ERROR, COMPLETED
2. –°–æ–∑–¥–∞—Ç—å –∫–ª–∞—Å—Å `PingPongServer` (–Ω–∞—Å–ª–µ–¥—É–µ—Ç—Å—è –æ—Ç BaseCommunicator)
3. –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –≤—Å–µ –º–µ—Ç–æ–¥—ã —Å–µ—Ä–≤–µ—Ä–∞:
   - `__init__` (–∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è)
   - `_change_state` (–ø–µ—Ä–µ—Ö–æ–¥ —Å–æ—Å—Ç–æ—è–Ω–∏–π)
   - `wait_for_request` (–æ–∂–∏–¥–∞–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–∞)
   - `process_request` (–ø–∞—Ä—Å–∏–Ω–≥ –∏ –≤–∞–ª–∏–¥–∞—Ü–∏—è –∑–∞–ø—Ä–æ—Å–∞)
   - `create_response` (—Å–æ–∑–¥–∞–Ω–∏–µ pong-–æ—Ç–≤–µ—Ç–∞)
   - `send_response` (–æ—Ç–ø—Ä–∞–≤–∫–∞ –æ—Ç–≤–µ—Ç–∞)
   - `handle_error` (–æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫)
   - `process_single_request` (–æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ–¥–Ω–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞)
   - `start` (–≥–ª–∞–≤–Ω—ã–π —Ü–∏–∫–ª —Å–µ—Ä–≤–µ—Ä–∞)
   - `stop` (–æ—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞)
4. –°–æ–∑–¥–∞—Ç—å —Ç–æ—á–∫—É –≤—Ö–æ–¥–∞ `server_app.py`

**–û–±—ä–µ–º —Ä–∞–±–æ—Ç—ã:** ~290 —Å—Ç—Ä–æ–∫ –∫–æ–¥–∞

---

## üìä –°–≤–æ–¥–∫–∞ –ø–æ –æ–±—ä–µ–º—É —Ä–∞–±–æ—Ç—ã:

| –ß–µ–ª–æ–≤–µ–∫ | –û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å | –°—Ç—Ä–æ–∫ –∫–æ–¥–∞ | –§–∞–π–ª–æ–≤ |
|---------|----------------|------------|--------|
| 1 | –ë–∞–∑–æ–≤–∞—è –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ + –æ—à–∏–±–∫–∏ | ~150 | 4 |
| 2 | –ò—Å–∫–ª—é—á–µ–Ω–∏—è + —Å–æ—Å—Ç–æ—è–Ω–∏—è –∫–ª–∏–µ–Ω—Ç–∞ | ~140 | 5 |
| 3 | –ö–ª–∏–µ–Ω—Ç (—Å–æ–∑–¥–∞–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–æ–≤) | ~110 | 1 |
| 4 | –ö–ª–∏–µ–Ω—Ç (–æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—Ç–≤–µ—Ç–æ–≤) + app | ~145 | 2 |
| 5 | –°–µ—Ä–≤–µ—Ä + —Å–æ—Å—Ç–æ—è–Ω–∏—è + app | ~290 | 3 |

**–ò—Ç–æ–≥–æ:** ~835 —Å—Ç—Ä–æ–∫ –∫–æ–¥–∞, 15 —Ñ–∞–π–ª–æ–≤

---

## üîÑ –ü–æ—Ä—è–¥–æ–∫ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ (–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏):

1. **–ß–µ–ª–æ–≤–µ–∫ 1** –Ω–∞—á–∏–Ω–∞–µ—Ç –ø–µ—Ä–≤—ã–º - —Å–æ–∑–¥–∞–µ—Ç –±–∞–∑—É
2. **–ß–µ–ª–æ–≤–µ–∫ 2** –º–æ–∂–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ —Å –ß–µ–ª–æ–≤–µ–∫–æ–º 1
3. **–ß–µ–ª–æ–≤–µ–∫ 3, 4, 5** –Ω–∞—á–∏–Ω–∞—é—Ç –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Ä–∞–±–æ—Ç—ã –ß–µ–ª–æ–≤–µ–∫–∞ 1 –∏ 2

---

## ‚úÖ –ö—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏–µ–º–∫–∏:

### –î–ª—è –≤—Å–µ—Ö:
- –ö–æ–¥ –Ω–∞–ø–∏—Å–∞–Ω –≤ –û–û–ü —Å—Ç–∏–ª–µ
- –í—Å–µ –º–µ—Ç–æ–¥—ã –∏–º–µ—é—Ç docstring
- –¢–∏–ø—ã –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ —É–∫–∞–∑–∞–Ω—ã (type hints)
- –ö–æ–¥ —Å–ª–µ–¥—É–µ—Ç PEP 8

### –ß–µ–ª–æ–≤–µ–∫ 1:
- BaseCommunicator –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å —Ñ–∞–π–ª–∞–º–∏
- –ò—Å–∫–ª—é—á–µ–Ω–∏—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ –Ω–∞—Å–ª–µ–¥—É—é—Ç—Å—è

### –ß–µ–ª–æ–≤–µ–∫ 2:
- –í—Å–µ –∏—Å–∫–ª—é—á–µ–Ω–∏—è —Å–æ–∑–¥–∞–Ω—ã
- –°–æ—Å—Ç–æ—è–Ω–∏—è –∫–ª–∏–µ–Ω—Ç–∞ –æ–ø–∏—Å–∞–Ω—ã

### –ß–µ–ª–æ–≤–µ–∫ 3:
- –ö–ª–∏–µ–Ω—Ç –º–æ–∂–µ—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å –∏ –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å –∑–∞–ø—Ä–æ—Å—ã
- –ú–µ—Ç–æ–¥ wait_for_response —Ä–∞–±–æ—Ç–∞–µ—Ç —Å —Ç–∞–π–º–∞—É—Ç–æ–º

### –ß–µ–ª–æ–≤–µ–∫ 4:
- –ö–ª–∏–µ–Ω—Ç –º–æ–∂–µ—Ç —á–∏—Ç–∞—Ç—å –∏ –≤–∞–ª–∏–¥–∏—Ä–æ–≤–∞—Ç—å –æ—Ç–≤–µ—Ç—ã
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- client_app.py –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç 5 ping

### –ß–µ–ª–æ–≤–µ–∫ 5:
- –°–µ—Ä–≤–µ—Ä –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –≤—Å–µ –∑–∞–ø—Ä–æ—Å—ã
- –î–∏–∞–≥—Ä–∞–º–º–∞ —Å–æ—Å—Ç–æ—è–Ω–∏–π —Å–µ—Ä–≤–µ—Ä–∞ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞
- server_app.py –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∑–∞–ø—Ä–æ—Å—ã

---

## üß™ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:

–ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –≤—Å–µ—Ö —á–∞—Å—Ç–µ–π:
1. –ó–∞–ø—É—Å—Ç–∏—Ç—å `python server_app.py`
2. –í –¥—Ä—É–≥–æ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ: `python client_app.py`
3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –≤—Å–µ 5 ping-pong —Ü–∏–∫–ª–æ–≤ –≤—ã–ø–æ–ª–Ω–µ–Ω—ã —É—Å–ø–µ—à–Ω–æ
4. –†–µ–∑—É–ª—å—Ç–∞—Ç –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å: **5/5 successful**

---

## üìù –ü—Ä–∏–º–µ—á–∞–Ω–∏—è:

- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Git –¥–ª—è —Å–æ–≤–º–µ—Å—Ç–Ω–æ–π —Ä–∞–±–æ—Ç—ã
- –ö–∞–∂–¥—ã–π –∫–æ–º–º–∏—Ç–∏—Ç —Ç–æ–ª—å–∫–æ —Å–≤–æ–∏ —Ñ–∞–π–ª—ã
- –ù–µ –∏–∑–º–µ–Ω—è–π—Ç–µ —á—É–∂–∏–µ —Ñ–∞–π–ª—ã –±–µ–∑ —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏—è
- –†–µ–≥—É–ª—è—Ä–Ω–æ –¥–µ–ª–∞–π—Ç–µ pull –ø–µ—Ä–µ–¥ –Ω–∞—á–∞–ª–æ–º —Ä–∞–±–æ—Ç—ã
